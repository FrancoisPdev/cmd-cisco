# A retenir :

## Les réseaux affectent nos vies
Aujourd'hui, grâce aux réseaux, nous sommes plus connectés que jamais. Les personnes qui ont des idées peuvent instantanément communiquer avec d'autres pour les concrétiser. La création de communautés en ligne échangeant idées et informations peut potentiellement accroître les occasions d'améliorer la productivité sur l'ensemble du globe. La création du cloud nous permet de stocker des documents et des images et d'y accéder n'importe où et n'importe quand.

## Composants des réseaux
Tous les ordinateurs connectés à un réseau et qui participent directement aux communications transmises sur le réseau sont des hôtes. Les hôtes sont également appelés des périphériques finaux. Certains hôtes sont également appelés clients. De nombreux ordinateurs font office de serveurs et de clients sur le réseau. Ce type de réseau est appelé réseau Peer to peer. Un périphérique final constitue soit la source soit la destination d'un message transmis à travers le réseau. Les périphériques intermédiaires connectent les périphériques finaux individuels au réseau et peuvent connecter plusieurs réseaux individuels afin de former un inter-réseau. Les périphériques intermédiaires utilisent l'adresse du périphérique final de destination, ainsi que les informations concernant les interconnexions réseau, pour déterminer le chemin que doivent emprunter les messages à travers le réseau. Celui-ci fournit le canal via lequel le message se déplace de la source à la destination.

## Représentations et topologies des réseaux
Les diagrammes de réseaux utilisent souvent des symboles pour représenter les différents appareils et connexions qui composent un réseau. Un diagramme permet de comprendre facilement comment les appareils se connectent dans un grand réseau. On appelle ce type de schéma de réseau « diagramme de topologie ». Les diagrammes de topologie physique illustrent l'emplacement physique des dispositifs intermédiaires et de l'installation des câbles. Des diagrammes de topologie logique illustrent les dispositifs, les ports et le système d'adressage du réseau.

## Types communs de réseaux
Les petits réseaux domestiques relient quelques ordinateurs entre eux et à Internet. Le réseau SOHO (small office/home office) permet aux ordinateurs d'un bureau à domicile ou d'un bureau distant de se connecter à un réseau d'entreprise, ou d'accéder à des ressources centralisées et partagées. Les réseaux de taille moyenne à grande, tels que ceux utilisés par les entreprises et les écoles, peuvent avoir de nombreux emplacements avec des centaines ou des milliers d'hôtes interconnectés. Internet est un réseau de réseaux qui relie des centaines de millions d'ordinateurs dans le monde entier. Les deux types d'infrastructures de réseau les plus courants sont les réseaux locaux (LAN) et les réseaux étendus (WAN). Un LAN est une infrastructure de réseau qui couvre une zone géographique restreinte. Un WAN est une infrastructure de réseau qui couvre une vaste zone géographique. L'intranet désigne une connexion privée de LAN et de WAN qui appartient à une organisation. Une entreprise peut utiliser un extranet pour fournir un accès sûr et sécurisé aux personnes qui travaillent pour une organisation différente mais qui ont besoin d'accéder aux données de l'organisation.

## Connexions Internet
Les connexions Internet des SOHO comprennent le câble, l'ADSL, le téléphone cellulaire, le satellite et le téléphone commuté. Les connexions Internet professionnelles incluent la ligne de location dédiée, le métro Ethernet, le DSL d'affaires et le satellite. Le choix de la connexion dépend de l'emplacement géographique et de la disponibilité du fournisseur d'accès. Les réseaux distincts traditionnels utilisaient différentes technologies, règles et normes. Contrairement aux réseaux dédiés, les réseaux convergés peuvent fournir des données, la voix et vidéo entre les différents types de périphériques sur la même infrastructure réseau. Cette infrastructure réseau utilise le même ensemble de règles, de contrats et de normes de mise en œuvre. Packet Tracer est un logiciel flexible qui vous permet d'utiliser des représentations réseau et des théories pour construire des modèles de réseau et explorer des réseaux locaux et des réseaux WAN relativement complexes.

## Réseaux fiables
Le terme "architecture de réseau" fait référence aux technologies qui soutiennent l'infrastructure et les services programmés et les règles, ou protocoles, qui font circuler les données sur le réseau. Au fur et à mesure de l'évolution des réseaux, nous avons appris qu'il existe quatre caractéristiques de base que les architectes de réseaux doivent prendre en compte pour répondre aux attentes des utilisateurs : tolérance aux pannes, évolutivité, qualité de service (QoS) et sécurité. Un réseau tolérant aux pannes est un réseau qui limite le nombre de dispositifs affectés lors d'une panne. Le fait de disposer de plusieurs chemins vers une destination s'appelle la redondance. Un réseau évolutif se développe rapidement pour prendre en charge les nouveaux utilisateurs et applications. En outre, les réseaux sont évolutifs étant donné que les concepteurs font appel à des normes et à des protocoles reconnus. La qualité de service est un mécanisme essentiel pour gérer la congestion et assurer une diffusion fiable du contenu à tous les utilisateurs. Les administrateurs de réseau doivent répondre à deux types de préoccupations en matière de sécurité des réseaux : la sécurité des infrastructures de réseau et la sécurité des informations. Pour atteindre les objectifs de la sécurité des réseaux, il y a trois exigences principales : confidentialité, intégrité et disponibilité.

## Tendances des réseaux
Il existe plusieurs tendances récentes en matière de mise en réseau qui touchent les organisations et les consommateurs : Bring Your Own Device (BYOD), la collaboration en ligne, les communications vidéo et cloud computing. Le BYOD, c'est pour tout type d'appareil, quel que soit son propriétaire, et partout. Les outils de collaboration, comme Cisco WebEx, permettent aux employés, aux étudiants, aux enseignants, aux clients et aux partenaires de se connecter, d'interagir et d'atteindre leurs objectifs de manière instantanée. La vidéo est utilisée pour les communications, la collaboration et le divertissement. Les appels vidéo sont effectués vers et depuis toute personne disposant d'une connexion Internet, quel que soit l'endroit où elle se trouve. Le cloud computing nous permet de stocker des fichiers personnels, et même de sauvegarder un disque entier sur des serveurs via l'internet. Des applications telles que le traitement de texte et l'édition de photos sont accessibles via le cloud. Il existe quatre principaux types de clouds : Les clouds publics, les clouds privés, les clouds hybrides et les clouds personnalisés. La technologie de la maison intelligente est actuellement en cours de développement pour toutes les pièces d'une maison. La technologie des maisons intelligentes deviendra de plus en plus courante à mesure que les réseaux domestiques et la technologie de l'internet à haut débit se développeront. Grâce au câblage électrique existant, le réseau sur courant porteur transmet des informations en envoyant les données sur des fréquences spécifiques. Un fournisseur de services internet sans fil (WISP) est un fournisseur d'accès internet qui connecte les abonnés à un point d'accès ou à un point d'échange désigné en utilisant des technologies sans fil similaires à celles que l'on trouve dans les réseaux locaux sans fil (WLAN) des foyers.

## Sécurité des réseaux 
Il existe plusieurs menaces externes courantes pour les réseaux:
* Virus, vers et chevaux de Troie
* Logiciels espions et logiciels publicitaires
* Attaques du zéro jour
* Attaques de l'acteur de menace
* Attaques par déni de service
* Interception et vol de données
* Usurpation d'identité

### Ce sont les éléments de base de la sécurité d'un réseau domestique ou d'un petit bureau :
* Antivirus et logiciel anti-espion
* Filtrage au niveau du pare-feu

### Les réseaux plus grands et les réseaux d'entreprise utilisent un antivirus, un antispyware et un filtrage de pare-feu, mais ils ont également d'autres exigences de sécurité:
* Systèmes de pare-feu dédiés
* Listes de contrôle d'accès (ACL)
* Systèmes de protection contre les intrusions
* Réseaux privés virtuels (VPN)

# Modèles et protocoles :
## Les règles :
Toutes les méthodes de communication ont trois éléments communs : la source du message (expéditeur), la destination du message (récepteur) et le canal. L'envoi d'un message est régi par des règles appelées protocols. Les protocoles doivent comprendre : un expéditeur et un destinataire identifiés, un langage et une grammaire communes, la vitesse et le moment de la livraison, et les exigences en matière de confirmation ou d'accusé de réception. Les protocoles informatiques courants comprennent ces exigences : codage, formatage et encapsulation des messages, taille, synchronisation et options de livraison. Le codage est le processus de conversion des informations vers un autre format acceptable, à des fins de transmission. Le décodage inverse ce processus pour interpréter l'information. Les formats des messages dépendent du type de message et du type de canal utilisé pour remettre le message. La synchronisation des messages comprend le contrôle du flux, le délai de réponse et la méthode d'accès. Les options de remise des messages incluent la monodiffusion, la multidiffusion et la diffusion.

## Protocoles :
Les protocoles sont implémentés par les terminaux et les périphériques intermédiaires dans les logiciels, le matériel ou les deux. Un message envoyé sur un réseau informatique nécessite généralement l'utilisation de plusieurs protocoles, chacun avec ses propres fonctions et format. Chaque protocole réseau a sa propre fonction, son format et ses propres règles de communication. La famille de protocoles Ethernet inclut IP, TCP, HTTP et bien d'autres. Les protocoles sécurisent les données pour fournir l'authentification, l'intégrité des données et le chiffrement des données : SSH, SSL et TLS. Les protocoles permettent aux routeurs d'échanger des informations d'itinéraire, de comparer des informations de chemin, puis de sélectionner le meilleur chemin vers le réseau de destination : OSPF et BGP. Les protocoles sont utilisés pour la détection automatique de périphériques ou de services : DHCP et DNS. Les ordinateurs et les dispositifs de réseau utilisent des protocoles convenus qui assurent les fonctions suivantes : adressage, fiabilité, contrôle de flux, séquençage, détection d'erreurs et interface d'application.

## Suites de protocoles :
Une suite de protocoles est un groupe de protocoles interdépendants nécessaires pour assurer une fonction de communication. Une pile de protocoles indique comment chacun des protocoles de la suite est mis en œuvre. Depuis les années 1970, il existe plusieurs suites de protocoles différents, certaines développées par une organisation de normalisation et d'autres développées par divers fournisseurs. Les protocoles TCP/IP sont disponibles pour les couches application, transport et internet. TCP/IP est la suite de protocoles utilisée par les réseaux actuels et Internet. TCP/IP offre deux aspects importants aux fournisseurs et aux fabricants : la suite de protocoles standard ouverte et la suite de protocoles basée sur des normes. Le processus de communication de la suite de protocoles TCP/IP permet des processus tels qu'un serveur Web encapsulant et envoyant une page Web à un client, ainsi que le client décapsulant la page Web pour l'affichage dans un navigateur Web.

## Organisation des normes :
Les normes ouvertes favorisent l'interopérabilité, la concurrence et l'innovation. Les organismes de normalisation sont généralement des associations à but non lucratif qui ne sont liées à aucun constructeur. Leur objectif est de développer et de promouvoir le concept des normes ouvertes. Diverses organisations ont des responsabilités différentes en matière de promotion et de création de normes pour l'internet, notamment ISOC, IAB, IETF et IRTF. Les organisations de normalisation qui développent et prennent en charge TCP/IP comprennent : l'ICANN et l'IANA. Les organismes de normalisation des communications et de l'électronique comprennent : IEEE, EIA, TIA et UIT-T.

## Modèles de référence :
Les deux modèles de référence utilisés pour décrire les opérations réseau sont OSI et TCP/IP.
### Le modèle OSI comporte sept couches :
7 - Application

6 - Présentation

5 - Session

4 - Transport

3 - Réseau

2 - Liaison de Données

1 - Physique

### Le modèle TCP/IP comporte quatre couches:
4 - Application

3 - Transport

2 - Internet

1 - Accès réseau

## Encapsulation des données :
La segmentation des messages présente deux avantages majeurs :
* En envoyant de petits morceaux individuels de la source à la destination, de nombreuses conversations différentes peuvent être intercalées sur le réseau. Ce processus est appelé multiplexage.
* La segmentation peut augmenter l'efficacité des communications réseau. Si une partie du message n'arrive pas à destination, seules les parties manquantes doivent être retransmises.
* TCP est responsable du séquençage des segments individuels. La forme qu'emprunte une donnée sur n'importe quelle couche est appelée unité de données de protocole (PDU). Au cours de l'encapsulation, chaque couche, l'une après l'autre, encapsule l'unité de données de protocole qu'elle reçoit de la couche supérieure en respectant le protocole en cours d'utilisation. Lors de l'envoi de messages sur un réseau, le processus d'encapsulation fonctionne de haut en bas. Ce processus est inversé au niveau de l'hôte récepteur et est connu sous le nom de désencapsulation. La désencapsulation est le processus utilisé par un périphérique récepteur pour supprimer un ou plusieurs des en-têtes de protocole. Les données sont des-encapsulées au fur et à mesure qu'elles se déplacent vers la partie supérieure de la pile et l'application de l'utilisateur final.

## Accès aux données:
Les couches réseau et liaison de données sont chargées de transmettre les données du périphérique source au périphérique de destination. Les protocoles des deux couches contiennent une adresse de source et une adresse de destination, mais leurs adresses ont des objectifs différents :
* Adresses source et destination de la couche réseau - Responsable de la livraison du paquet IP de la source d'origine à la destination finale, qui peut être sur le même réseau ou sur un réseau distant.
* Adresses source et destination de la couche de liaison de données - Responsable de la transmission de la trame de liaison de données d'une carte d'interface réseau (NIC) à une autre NIC sur le même réseau.

Les adresses IP indiquent l'adresse IP source d'origine et l'adresse IP de destination finale. Une adresse IP comporte deux parties : la partie réseau (IPv4) ou préfixe (IPv6) et la partie hôte (IPv4) ou ID d'interface (IPv6). Lorsque l'expéditeur et le récepteur du paquet IP se trouvent sur le même réseau, la trame de liaison de données est envoyée directement au périphérique récepteur. Sur un réseau Ethernet, les adresses de liaison de données sont connues sous le nom d'adresses MAC (Ethernet Media Access Control). Lorsque l'expéditeur du paquet appartient à un réseau différent de celui du récepteur, les adresses IP source et de destination représentent des hôtes sur différents réseaux. La trame Ethernet doit être envoyée à un autre périphérique appelé routeur ou passerelle par défaut.

# Objectif de la couche physique

Avant que les communications réseau ne puissent se produire, une connexion physique à un réseau local doit être établie. Une connexion physique peut être une connexion filaire par câble ou une connexion sans fil passant par les ondes radio. Les cartes d'interface réseau ou cartes réseau (NIC en anglais) permettent de connecter un périphérique au réseau. Les cartes d'interface réseau Ethernet sont utilisées pour une connexion filaire, tandis que les cartes d'interface réseau local sans fil (WLAN) sont utilisées pour le sans fil. La couche physique OSI fournit le moyen de transporter sur le support réseau les bits constituant une trame de couche liaison de données. Cette couche accepte une trame complète de la couche liaison de données et la code sous la forme d'une série de signaux transmis sur le support local. Les bits codés composant une trame sont reçus par un périphérique final ou intermédiaire.

## Caractéristiques de la couche physique :
La couche physique est constituée de circuits électroniques, de supports et de connecteurs développés par des ingénieurs. Les normes de couche physique couvrent trois domaines fonctionnels: les composants physiques, le codage et la signalisation. La bande passante est la capacité d'un support à transporter des données. La bande passante numérique mesure la quantité d'informations pouvant circuler d'un emplacement à un autre pendant une période donnée. Le débit est la mesure du transfert de bits à travers le support sur une période de temps donnée et est généralement inférieur à la bande passante. La latence désigne le temps nécessaire (délais inclus) aux données pour voyager d'un point A à un point B. Le débit applicatif mesure les données utilisables transférées sur une période donnée. La couche physique produit la représentation et les groupements de bits pour chaque type de support comme suit :
Câble en cuivre - les signaux sont des motifs d'impulsions électriques.
Câble à fibre optique - les signaux sont des motifs lumineux.
Sans fil - les signaux sont des motifs de transmissions par micro-ondes.

## Câblage cuivre :
Les supports en cuivre sont utilisés sur certains réseaux, car ils sont bon marché, faciles à installer et qu'ils présentent une faible résistance au courant électrique. Cependant, les supports en cuivre sont limités par la distance et les interférences du signal. La durée et la tension des impulsions électriques sont également susceptibles d'être perturbées par deux sources : les EMI et la diaphonie. Trois types de câblage en cuivre sont: UTP, STP et câble coaxial. UTP a une enveloppe extérieure pour protéger les fils de cuivre contre les dommages physiques, des paires torsadées pour protéger le signal contre les interférences, et une isolation en plastique à code couleur qui isole électriquement les fils les uns des autres et identifie chaque paire. Le câble STP utilise quatre paires de fils, chacun enveloppé dans un blindage en feuille, qui sont ensuite enveloppés dans une tresse ou feuille métallique globale. Le câble coaxial (parfois abrégé en coax) tire son nom du fait qu'il contient deux conducteurs qui partagent le même axe. Coax est utilisé pour attacher des antennes aux appareils sans fil. Les fournisseurs d'accès Internet par câble utilisent du coaxial à l'intérieur des locaux de leurs clients.

## Câblage UTP :
Le câblage UTP se compose de quatre paires de fils de cuivre un code couleur qui ont été torsadés, puis placés dans une gaine plastique souple. Le câble UTP n'utilise pas de blindage pour contrer les effets des perturbations électromagnétiques et radioélectriques. Au lieu de cela, les concepteurs de câbles ont découvert d'autres façons de limiter l'effet négatif de la diaphonie : annulation et modification du nombre de torsades par paire de fils. Le câblage UTP respecte les normes établies conjointement par la Telecommunications Industry Association (TIA) et l'Electronic Industries Association (EIA). Les caractéristiques électriques du câblage en cuivre sont définies par l'IEEE (Institute of Electrical and Electronics Engineers). Le câble UTP se termine habituellement par un connecteur RJ-45. Les types principaux de câbles obtenus en utilisant des conventions de câblage spécifiques sont Ethernet droit et Ethernet croisé Cisco dispose d'un câble UTP propriétaire appelé «rollover» qui connecte une station de travail à un port de console de routeur.
 
## Câblage fibre optique :
Les câbles à fibre optique transmettent les données sur de plus longues distances et avec une bande passante plus large que n'importe quel autre support réseau. Contrairement aux fils de cuivre, les câbles à fibre optique peuvent transmettre des signaux avec moins d'atténuation et sont entièrement protégés des perturbations électromagnétiques et radioélectriques. La fibre optique est un fil en verre très pur et transparent, à la fois flexible et très fin. Son diamètre n'est pas beaucoup plus grand que celui d'un cheveu humain. Les bits sont codés sur la fibre sous forme d'impulsions lumineuses. Le câblage à fibre optique est maintenant utilisé dans quatre types d'industries: les réseaux d'entreprise, les réseaux FTTH, les réseaux long-distances et les réseaux de câbles sous-marins. Il existe quatre types de connecteurs à fibre optique: ST, SC, LC et LC multimode duplex. Les cordons de brassage à fibre optique comprennent SC-SC multimode, LC-LC monomode, ST-LC multimode et SC-ST mono-mode. Actuellement, dans la plupart des environnements d'entreprise, la fibre optique est utilisée principalement comme câblage du réseau fédérateur pour les connexions point à point de trafic élevé entre des points de distribution de données et pour l'interconnexion de bâtiments dans les campus qui en comportent plusieurs.

# Systèmes numériques : 
## Système binaire :
Le format binaire est un système de numération utilisant les chiffres 0 et 1 qui sont appelés des bits. En revanche, le système de numération décimale est constitué de 10 chiffres composés des nombres 0 - 9. Il est important que nous comprenions le binaire car les hôtes, les serveurs et les dispositifs de réseau utilisent l'adressage binaire, en particulier les adresses IPv4 binaires, pour s'identifier les uns les autres. Vous devez connaître l'adressage binaire et comment convertir entre les adresses IPv4 décimales binaires et pointé.

## Système hexadécimal:
Le système décimal est en base dix et le système hexadécimal est en base seize. Le système de numération hexadécimale utilise les nombres 0 à 9 et les lettres A à F. Le système de numération hexadécimale est utilisé en réseau pour représenter les adresses IPv6 et les adresses MAC Ethernet. Les adresses IPv6 ont une longueur de 128 bits et chaque 4 bits est représenté par un seul chiffre hexadécimal ; pour un total de 32 valeurs hexadécimales. Pour convertir hexadécimal en décimal, vous devez d'abord convertir l'hexadécimal en binaire, puis convertir le binaire en décimal. Pour convertir décimal en hexadécimal, vous devez également d'abord convertir la décimale en binaire.

# Objectif de la couche liaison de données :
La couche liaison de données du modèle OSI (couche 2) prépare les données du réseau pour le réseau physique. La couche liaison de données est responsable des communications entre les cartes d'interface du réseau (NIC). Sans la couche liaison de données, les protocoles de couche réseau (par exemple, IP) devraient prévoir d'établir une connexion à chaque type de support pouvant figurer le long d'un chemin de livraison. La couche liaison de données LAN/MAN IEEE 802 comprend les deux sous-couches suivantes : LLC et MAC. La sous-couche MAC fournit l'encapsulation des données via la délimitation des trames, l'adressage et la détection des erreurs. Les interfaces de routeur encapsulent le paquet dans la trame appropriée. Une méthode de contrôle d'accès aux supports appropriés est utilisée pour accéder à chaque liaison. Les organismes d'ingénierie qui définissent des normes et des protocoles ouverts s'appliquant à la couche d'accès réseau tel que:IEEE, ITU, ISO, et ANSI.

## Topologies :
Les deux types de topologies utilisées dans les réseaux LAN et WAN sont physiques et logiques. La couche liaison de données « voit » la topologie logique d'un réseau lorsqu'elle contrôle l'accès des données aux supports. C'est la topologie logique qui influence le type de trame réseau et de contrôle d'accès au support utilisé. Trois types courants de topologies WAN physiques sont: point à point, hub and spoke, et maillée. Les topologies point à point physiques connectent directement deux périphériques finaux. L'ajout de connexions physiques intermédiaires ne modifie pas forcément la topologie logique. Dans les réseaux locaux multi-accès, les nœuds sont interconnectés à l'aide de topologies en étoile ou en étoile étendue. Dans ce type de topologie, les nœuds sont connectés à un périphérique intermédiaire central. Les topologies LAN physiques comprennent: Topologies en étoile, en étoile étendue, en bus et en anneau. Les communications de mode semi-duplex échangent des données dans une direction à la fois. Mode duplex intégral envoie et reçoit des données simultanément. Deux interfaces interconnectées doivent utiliser le même mode duplex ou il y aura une incompatibilité duplex créant une inefficacité et une latence sur la liaison. Les réseaux locaux Ethernet filaires et sans fil constituent des exemples de réseau à accès multiple. Un réseau à accès multiple est un réseau qui peut avoir plusieurs nœuds accédant simultanément au réseau. Certains réseaux à accès multiple ont besoin de règles pour décider de la manière dont les périphériques partagent les supports physiques. Il existe deux méthodes de contrôle d'accès de base pour les supports partagés: l'accès avec gestion des conflits et l'accès contrôlé. Dans les réseaux à accès multiple basés sur l'accès avec gestion des conflits, tous les nœuds fonctionnent en semi-duplex. Il existe une procédure si plusieurs périphériques transmettent des données simultanément. Exemples des méthodes de réseaux d'accès avec gestion des conflits : CSMA/CD pour les réseaux locaux Ethernet au topologie en bus et CSMA/CA pour les réseaux WLAN.

## Trame de liaison de données:
La couche liaison de données prépare un paquet pour le transport à travers les supports locaux en les encapsulant avec un en-tête et une queue de bande pour créer une trame. Le protocole de liaison de données est responsable des communications NIC à NIC au sein du même réseau. De nombreux protocoles de couche liaison de données différents décrivent les trames de couche liaison de données, chaque type de trame comprend trois éléments de base: l'en- tête, les donnés et la queue de bande. Au contraire des autres protocoles d'encapsulation, la couche de liaison de données ajoute des informations sous la forme d'une queue de bande. Il n'existe pas de structure de trame unique qui réponde aux besoins de tous les types de transport de données sur tous les types de supports. En fonction de l'environnement, la quantité d'informations de contrôle requises dans la trame varie pour répondre aux exigences du contrôle d'accès du support et de la topologie logique. Les champs de trame incluent les indicateurs de début et d'arrêt de trame, l'adressage, le type, le contrôle, les données et la détection d'erreurs. La couche liaison de données assure un adressage utilisé pour acheminer une trame à travers des supports locaux partagés. Les adresses de périphérique sont appelées adresses physiques. L'adressage de couche liaison de données est spécifié dans l'en-tête de trame et indique le nœud de destination de la trame sur le réseau local. L'adresse de la couche liaison de données est utilisée uniquement pour l'acheminement local. Dans un réseau TCP/IP, tous les protocoles de couche 2 OSI fonctionnent avec le protocole IP sur la couche OSI 3. Cependant, le protocole de couche 2 utilisé dépend de la topologie logique et du support physique. Chaque protocole effectue un contrôle d'accès au support pour les topologies logiques de couche 2 spécifiées. Le protocole de couche 2 qui est utilisé pour une topologie réseau spécifique dépend de la technologie mettant en œuvre cette topologie. Les protocoles de couche de liaison de données comprennent: Ethernet, 802.11 sans fil, PPP, HDLC et Frame Relay.

# Commutation Ethernet :
## Ethernet Frame :
Il fonctionne au niveau de la couche liaison de données et de la couche physique. Les normes Ethernet définissent à la fois les protocoles de la couche 2 et les technologies de la couche 1. Ethernet utilise les sous-couches LLC et MAC de la couche de liaison de données pour fonctionner. L'encapsulation des données comprend les éléments suivants: trame Ethernet, adressage Ethernet et détection des erreurs Ethernet. Les réseaux locaux Ethernet utilisent des commutateurs fonctionnant en duplex intégral. Les champs de trame Ethernet sont: préambule et délimiteur de trame de départ, adresse MAC de destination, adresse MAC source, EtherType, données et FCS.

## Ethernet MAC Address :
Les nombres binaires utilisent deux chiffres, 0 et 1. Decimal utilise 0 à 9. Hexadécimal utilise 0 à 9 et les lettres A à F. L'adresse MAC est utilisée pour identifier les périphériques source et destination physiques (NIC) sur le segment de réseau local. L'adressage MAC fournit une méthode d'identification des périphériques au couche de liaison de données du modèle OSI. Une adresse MAC Ethernet est une adresse 48 bits exprimée en 12 chiffres hexadécimaux, ou 6 octets. Une adresse MAC Ethernet est constituée d'un code OUI de fournisseur hexadécimal à 6, suivi d'une valeur attribuée par le fournisseur hexadécimal à 6. Lorsqu'un périphérique transfère un message à un réseau Ethernet, l'en-tête Ethernet inclut les adresses MAC source et de destination. Avec Ethernet, des adresses MAC différentes sont utilisées pour la monodiffusion (unicast), la multidiffusion (multicast) et la diffusion (broadcast) sur la couche 2.

## The MAC Address Table :
Les décisions d'un commutateur Ethernet de couche 2 du concernant la transmission de données reposent uniquement sur les adresses MAC Ethernet de couche 2. Le commutateur crée la table d'adresses MAC de manière dynamique en examinant l'adresse MAC source des trames reçues sur un port. Pour transmettre les trames, le commutateur recherche une correspondance entre l'adresse MAC de destination qui figure dans la trame et une entrée de la table d'adresse MAC. À mesure qu'un commutateur reçoit des trames de différents périphériques, il remplit sa table d'adresses MAC en examinant l'adresse MAC source de chaque trame. Si la table d'adresse MAC du commutateur contient l'adresse MAC de destination, il peut filtrer la trame et la diffuser sur un sol port.

## Switch Speeds and Forwarding Methods :
Les commutateurs utilisent l'une des méthodes suivantes de transmission des données entre des ports réseau:la commutation par stockage et retransmission (store-and-forward) ou la commutation cut-through Les deux types de méthodes de commutation Cut-through sont Fast-forward et Fragment-free. Deux méthodes de mise en mémoire tampon sont la mémoire basée sur le port et la mémoire partagée. Deux types de paramètres duplex sont employés pour les communications sur les réseaux Ethernet: le mode semi-duplex et le mode duplex intégral. La négociation automatique est une option proposée sur la plupart des commutateurs Ethernet et des cartes réseau. Elle permet l'échange automatique d'informations sur le débit et le mode duplex entre deux périphériques. Le mode duplex intégral est choisi si les deux périphériques sont compatibles et que la bande passante commune la plus importante est sélectionnée. Désormais, la plupart des commutateurs prennent en charge la fonction de commutation automatique d'interface en fonction du support (auto-MDIX). Lorsque vous activez cette fonction, le commutateur détecte le type de câble connecté au port et configure les interfaces en conséquence.

# Couche réseaux :
## Caractéristiques de la couche réseau :
La couche réseau (couche 3 OSI) fournit des services permettant aux appareils finaux d'échanger des données sur les réseaux. IPv4 et IPv6 sont les principaux protocoles de communication de couche réseau. La couche réseau inclut également le protocole de routage OSPF et les protocoles de messagerie tels que ICMP. Les protocoles de couche réseau effectuent quatre opérations de base : adressage des périphériques finaux, encapsulation, routage et décapsulation. IPv4 et IPv6 précisent la structure et le traitement des paquets utilisés pour transporter les données d'un hôte à l'autre. IP encapsule le segment de la couche transport en ajoutant un en-tête IP, qui est utilisé pour livrer le paquet à l'hôte de destination. L'en-tête IP est examiné par les périphériques de couche 3 (c'est-à-dire les routeurs) lorsqu'il se déplace à travers un réseau jusqu'à sa destination. Les caractéristiques de l'IP sont qu'il est sans connexion, le meilleur effort et indépendant des supports. L'IP est sans connexion, ce qui signifie qu'aucune connexion dédiée de bout en bout n'est créée par l'IP avant l'envoi des données. Ce dernier ne garantit pas que tous les paquets acheminés soient effectivement reçus. C'est la définition de la caractéristique peu fiable, ou du meilleur effort. Le protocole IP fonctionne indépendamment des supports acheminant les données dans les couches inférieures de la pile de protocoles.

## Paquet IPv4 :
Un en-tête de paquet IPv4 est constitué de champs contenant des informations sur le paquet. Ces champs contiennent des nombres binaires, examinés par le processus de couche 3. Les valeurs binaires de chaque champ indiquent divers paramètres du paquet IP. Les champs importants de l'en-tête IPv6 comprennent : version, DS, somme de contrôle d'en-tête, TTL, protocole et les adresses IPv4 source et destination.
Paquet IPv6 :
IPv6 est conçu pour surmonter les limites d'IPv4, y compris l'épuisement des adresses IPv4, le manque de connectivité de bout en bout et la complexité accrue du réseau. IPv6 augmente l'espace d'adressage disponible, améliore la gestion des paquets et élimine le besoin de NAT. Les champs de l'en-tête du paquet IPv6 comprennent : la version, la classe de trafic, l'étiquette de flux, la longueur de la charge utile, l'en-tête suivant, la limite de saut et les adresses IPv6 source et destination.

## Comment un hôte se déplace :
Un hôte peut envoyer un paquet à lui-même, à un autre hôte local et à un hôte distant. Dans IPv4, le périphérique source utilise son propre masque de sous-réseau ainsi que sa propre adresse IPv4 et l'adresse IPv4 de destination pour déterminer si l'hôte de destination se trouve sur le même réseau. Dans IPv6, le routeur local annonce l'adresse réseau local (préfixe) à tous les périphériques du réseau, pour effectuer cette détermination. La passerelle par défaut est le dispositif de réseau (c'est-à-dire le routeur) qui peut acheminer le trafic vers d'autres réseaux. Sur un réseau, une passerelle par défaut est généralement un routeur qui a une adresse IP locale dans la même plage d'adresses que les autres hôtes du réseau local, qui peut accepter des données dans le réseau local et transférer des données hors du réseau local, et acheminer le trafic vers d'autres réseaux. Généralement, la table de routage d'un hôte inclut une passerelle par défaut. En IPv4, l'hôte reçoit l'adresse IPv4 de la passerelle par défaut soit dynamiquement via DHCP, soit manuellement. Dans IPv6, le routeur annonce l'adresse de passerelle par défaut, ou l'hôte peut être configuré manuellement. Sur un hôte Windows, la commande route print or netstat -r peut être utilisée pour afficher la table de routage de l'hôte.

## Introduction au routage :
Lorsqu'un hôte envoie un paquet à un autre hôte, il utilise sa table de routage pour déterminer où envoyer le paquet. Si l'hôte de destination se trouve sur un réseau distant, le paquet est transmis à la passerelle par défaut qui est généralement le routeur local. Que se passe-t-il lorsqu'un paquet arrive sur l'interface d'un routeur ? Le routeur examine l'adresse IP de destination du paquet et recherche dans sa table de routage pour déterminer où faire suivre le paquet. La table de routage contient une liste de toutes les adresses réseau connues (préfixes) et où transférer le paquet. Ces entrées sont connues sous le nom d'entrées d'itinéraires ou de routes. Le routeur transmettra le paquet en utilisant la meilleure entrée (la plus longue) d'itinéraire correspondant. La table de routage d'un routeur stocke trois types d'entrées de routage : les réseaux directement connectés, les réseaux distants et un itinéraire par défaut. Les routeurs apprennent à connaître les réseaux distants manuellement, ou dynamiquement en utilisant un protocole de routage dynamique. Les itinéraires statiques sont des entrées d'itinéraire qui sont configurées manuellement. Les routes statiques incluent l'adresse réseau distante et l'adresse IP du routeur de saut suivant. OSPF et EIGRP sont deux protocoles de routage dynamique. La commande show ip route privilégiée du mode EXEC est utilisée pour afficher la table de routage IPv4 sur un routeur IOS Cisco. Au début d'une table de routage IPv4 se trouve un code qui est utilisé pour identifier le type d'itinéraire ou comment l'itinéraire a été appris. Les sources d'itinéraire courantes (codes) comprennent :
* L - Adresse IP de l'interface locale directement connectée
* C - Réseau directement connecté
* S - La route statique a été configurée manuellement par un administrateur
* O - Protocole OSPF (Open Shortest Path First)
* D - Protocole EIGRP (Enhanced Interior Gateway Routing Protocol)

# Résolution d’adresse :
## Adresse MAC et IP :
Les adresses physiques de couche 2 (c'est-à-dire les adresses MAC Ethernet) sont utilisées pour acheminer la trame de liaison de données avec le paquet IP encapsulé d'une carte réseau à une autre carte réseau sur le même réseau. Si l'adresse IP de destination appartient au même réseau, l'adresse MAC de destination est celle du périphérique de destination. Lorsque l'adresse IP de destination (IPv4 ou IPv6) se trouve sur un réseau distant, l'adresse MAC de destination sera l'adresse de la passerelle par défaut de l'hôte (c'est-à-dire l'interface du routeur). Le long de chaque lien d'un chemin, un paquet IP est encapsulé dans une trame. La trame est spécifique à la technologie de liaison de données associée à cette liaison, telle que Ethernet. Si le périphérique du tronçon suivant est la destination finale, l'adresse MAC de destination est celle de la carte réseau Ethernet du périphérique. Comment les adresses IP des paquets IP d'un flux de données sont-elles associées aux adresses MAC de chaque liaison le long du chemin vers la destination? Pour les paquets IPv4, Cette opération est effectuée selon un processus appelé protocole ARP. Pour les paquets IPv6, le processus est ICMPv6 ND.

## Protocole ARP :
Chaque périphérique IP d'un réseau Ethernet possède une adresse MAC Ethernet unique. Lorsqu'un périphérique envoie une trame Ethernet de couche 2, celle-ci contient deux adresses: l'adresse MAC de destination et l'adresse MAC source. Un périphérique utilise ARP pour déterminer l'adresse MAC de destination d'un périphérique local lorsqu'il connaît son adresse IPv4. ARP fournit deux fonctions de base: résoudre les adresses IPv4 en adresses MAC et maintenir une table de mappages d'adresses IPv4 vers MAC. La demande ARP est encapsulée dans une trame Ethernet à l'aide de ces informations d'en-tête: adresses MAC source et destination et type. Seul un périphérique du réseau local possède l'adresse IPv4 correspondant à l'adresse IPv4 cible de la requête ARP. Aucun des autres périphériques ne répond. La réponse ARP contient les mêmes champs d'en-tête que la demande. Seul le périphérique à l'origine de la requête ARP reçoit la réponse ARP en monodiffusion. Une fois la réponse ARP reçue, le périphérique ajoute l'adresse IPv4 et l'adresse MAC correspondante dans sa table ARP. Lorsque l'adresse IPv4 de destination n'appartient pas au même réseau que l'adresse IPv4 source, le périphérique source doit envoyer la trame à sa passerelle par défaut. Il s'agit de l'interface du routeur local. Pour chaque périphérique, un compteur de cache ARP supprime les entrées ARP qui n’ont pas été utilisées pendant une période donnée. Des commandes permettent aussi de supprimer manuellement les entrées du table ARP totalement ou partiellement. Comme les trames de diffusion, les requêtes ARP sont reçues et traitées par chaque périphérique du réseau local, ce qui pourrait entraîner un ralentissement du réseau. Un acteur de menace peut utiliser l'usurpation ARP pour effectuer une attaque d'empoisonnement ARP.

## Découverte de voisins (ND) :
IPv6 n'utilise pas ARP, il utilise le protocole ND pour résoudre les adresses MAC. ND fournit des services de résolution d'adresses, de détection de routeur et de redirection pour IPv6 à l'aide d'ICMPv6. ICMPv6 ND utilise cinq messages ICMPv6 pour effectuer ces services: sollicitation de voisin, annonce de voisin, sollicitation de routeur, annonce de routeur et redirection. Tout comme ARP pour IPv4, les périphériques IPv6 utilisent IPv6 ND pour résoudre l'adresse MAC d'un périphérique en une adresse IPv6 connue.

# Configurer les paramètres initiaux du routeur :
Les tâches suivantes doivent être traitées lors de la configuration des paramètres initiaux d'un routeur.
Configurer le nom de l'appareil.
* Sécuriser le mode d'exécution privilégié.
* Sécuriser le mode d'exécution utilisateur
* Sécuriser Telnet à distance / accès SSH
* Sécuriser tous les mots de passe dans le fichier de configuration.
* Fournir un avertissement légal
* Enregistrer la configuration.
 
## Configurer les interfaces :
Pour que les routeurs soient accessibles, les interfaces de routeur doivent être configurées. Le routeur Cisco ISR 4321 est équipé avec deux interfaces Gigabit Ethernet : GigabitEthernet 0/0/0 (G0/0/0) et GigabitEthernet 0/0/1 (G0/0/1). Les tâches de configuration d'une interface de routeur sont très similaires à un SVI de gestion sur un commutateur. L'utilisation de la commande no shutdown active l'interface. L'interface doit également être connectée à un autre périphérique (concentrateur, commutateur ou autre routeur) pour que la couche physique soit active. Plusieurs commandes permettent de vérifier la configuration d'une interface show ip interface brief et show ipv6 interface brief, le show ip route et show ipv6 route, ainsi que show interfaces, show ip interface et show ipv6 interface.

## Configurer la passerelle par défaut :
Pour qu'un périphérique final communique sur le réseau, les données relatives à l'adresse IP doivent être correctement configurées, notamment l'adresse de la passerelle par défaut. L'adresse de la passerelle par défaut est généralement celle de l'interface du routeur reliée au réseau local de l'hôte. L'adresse IP de l'appareil hôte et l'adresse de l'interface du routeur doivent appartenir au même réseau. Pour se connecter à un commutateur et le gérer sur un réseau IP local, une interface virtuelle de commutateur (SVI) doit être configurée. Le SVI est configuré avec une adresse IPv4 et un masque de sous-réseau sur le réseau local. Le commutateur doit également avoir une adresse de passerelle par défaut configurée pour gérer le commutateur à distance à partir d'un autre réseau. Pour configurer une passerelle par défaut sur un commutateur, utilisez la commande de configuration globale ip default-gateway ip-address. Utiliser l'adresse IPv4 de l'interface du routeur local connecté au commutateur.

# Adressage IPV4 :
## Structure d'adressage IPv4 :
Une adresse IPv4 est une adresse hiérarchique de 32 bits qui se compose d'une partie réseau et d'une partie hôte. Les bits de la partie réseau de l'adresse doivent être identiques pour tous les périphériques installés sur le même réseau. Les bits de la partie hôte de l'adresse doivent être uniques, pour identifier un hôte spécifique dans un réseau. Un hôte nécessite une adresse IPv4 unique et un masque de sous-réseau pour afficher les parties réseau/hôte de l'adresse. La longueur du préfixe est le nombre de bits mis à 1 dans le masque de sous-réseau. Elle est notée au moyen de la « notation de barre oblique », soit le signe « / » suivi du nombre de bits définis sur 1. L'opérateur logique AND est la comparaison des deux bits. Seul un '1 AND 1' produit un 1 et toutes les autres combinaisons donnent un 0. Toute autre combinaison donne un 0. Dans chaque réseau, il y a des adresses réseau, des adresses d'hôte et une adresse de diffusion.

## Monodiffusion, diffusion et multidiffusion IPv4 :
La transmission monodiffusion fait référence à un périphérique qui envoie un message à un autre périphérique dans des communications un-à-un. Un paquet monodiffusion est un paquet avec une adresse IP de destination qui est une adresse monodiffusion qui est l'adresse d'un seul destinataire. La transmission par diffusion fait référence à un appareil qui envoie un message à tous les appareils d'un réseau dans le cadre d'une communication un à tous. Un paquet de diffusion a une adresse IP de destination avec tous les (1) dans la partie hôte, ou 32 un (1) bits. La transmission multidiffusion réduit le volume du trafic en permettant à un hôte d'envoyer un seul paquet à un groupe d'hôtes désigné inscrits à un groupe de multidiffusion. Un paquet de multidiffusion est un paquet avec une adresse IP de destination qui est une adresse de multidiffusion. IPv4 a réservé les adresses 224.0.0.0 à 239.255.255.255 comme plage de multidiffusion.

## Types d'adresses IPv4 :
Les adresses IPv4 publiques sont acheminées globalement entre les routeurs des ISP. Toutes les adresses IPv4 disponibles ne peuvent pas être utilisées sur l'internet. Certains blocs d'adresses appelés adresses privées sont utilisés par la plupart des entreprises pour attribuer des adresses IPv4 aux hôtes internes. La plupart des réseaux internes utilisent des adresses IPv4 privées pour l'adressage de tous les appareils internes (intranet) ; toutefois, ces adresses privées ne sont pas routables à l'échelle mondiale. Adresses de bouclage utilisées par un hôte pour diriger le trafic vers lui-même. Les adresses locales de liaison sont plus communément appelées adresses APIPA, ou adresses auto-attribuées. En 1981, les adresses IPv4 ont été attribuées en utilisant l'adressage par classe : A, B ou C. Les adresses IPv4 publiques doivent être uniques et sont acheminées globalement sur l'internet. Les adresses IPv4 et IPv6 sont toutes deux gérées par l'IANA, qui alloue des blocs d'adresses IP aux RIR.

## Segmentation du réseau :
Dans un réseau local Ethernet, les appareils diffusent pour localiser d'autres appareils en utilisant l'ARP. Les commutateurs diffusent les messages de diffusion sur toutes les interfaces, sauf celle d'où les messages proviennent. Les routeurs ne propagent pas les émissions, mais chaque interface de routeur connecte un domaine de diffusion et les émissions ne sont propagées que dans ce domaine spécifique. Un grand domaine de diffusion est un réseau qui connecte de nombreux hôtes. Dans ce type de domaine, les hôtes peuvent générer un nombre excessif de diffusion et ainsi avoir un impact négatif sur le réseau. La solution consiste à réduire la taille du réseau en créant de plus petits domaines de diffusion. C'est ce qu'on appelle le processus de création de sous-réseaux. Ces espaces réseau de plus petite taille sont appelés des sous-réseaux. La segmentation en sous-réseaux réduit le trafic global et améliore les performances réseau. Un administrateur peut créer un sous-réseau par emplacement, entre réseaux ou par type d'appareil.

## Réseau IPv4 :
Pour créer des sous-réseaux IPv4, on utilise un ou plusieurs bits d'hôte en tant que bits réseau. Pour cela, il faut étendre le masque de sous-réseau pour emprunter quelques bits de la portion hôte de l'adresse et créer d'autres bits réseau. Plus les bits d'hôte empruntés sont nombreux, plus le nombre de sous-réseaux qui peuvent être définis est important. Plus on emprunte de bits pour augmenter le nombre de sous-réseaux, plus le nombre d'hôtes par sous-réseau diminue. Le plus simple est de segmenter les réseaux à la limite d'octet de /8, /16 et /24. Les sous-réseaux peuvent emprunter des bits de n'importe quelle position de bit hôte pour créer d'autres masques.

## Sous-réseau un préfixe /16 et un préfixe /8 :
Dans une situation nécessitant un plus grand nombre de sous-réseaux, il faut un réseau IPv4 qui dispose d'un plus grand nombre de bits d'hôtes à emprunter. Pour créer des sous-réseaux, vous devez emprunter des bits à la partie hôte de l'adresse IPv4 du réseau Internet existant. En partant de la gauche vers la droite avec le premier bit hôte disponible, empruntez un seul bit à la fois jusqu'à ce que vous atteignez le nombre de bits nécessaires pour créer le nombre de sous-réseaux requis. Lorsque vous empruntez des bits à une adresse /16, commencez par en emprunter dans le troisième octet en partant de la gauche. La première adresse est réservée à l'adresse réseau et la dernière adresse est réservée à l'adresse de diffusion.

## Sous-réseau pour répondre aux exigences :
Un réseau d'entreprise typique comprend un intranet et une zone démilitarisée (DMZ). Tous deux ont des exigences et des défis en matière de sous-réseautage. L'intranet utilise un espace d'adressage IPv4 privé. Le 10.0.0.0/8 peut également être sous-réseau en utilisant n'importe quel autre nombre de longueurs de préfixe, telles que /12, /18, /20, etc., ce qui donne à l'administrateur réseau de nombreuses options. Étant donné que ces périphériques doivent être accessibles au public à partir d'Internet, les périphériques de la DMZ nécessitent des adresses IPv4 publiques. Les organisations doivent maximiser leur nombre limité d'adresses IPv4 publiques. Pour réduire le nombre d'adresses hôtes inutilisées par sous-réseau, l'administrateur réseau doit sous-réseau son espace d'adressage public dans des sous-réseaux dotés de masques de sous-réseau différents. Ceci est connu sous le nom de Masquage de longueur de sous-réseau variable (VLSM). Les administrateurs doivent tenir compte du nombre d'adresses hôtes requises pour chaque réseau et du nombre de sous-réseaux nécessaires.

## Masquage de sous-réseau de longueur variable
Le sous-réseau traditionnel peut répondre aux besoins d'une organisation pour son réseau local le plus important et diviser l'espace d'adressage en un nombre suffisant de sous-réseaux. Mais cela se traduit probablement aussi par un gaspillage important d'adresses inutilisées. La méthode VLSM permet de diviser un espace réseau en parties inégales. Avec le VLSM, le masque de sous-réseau varie en fonction du nombre de bits empruntés pour un sous-réseau particulier (c'est la partie "variable" du VLSM). La technique VLSM découpe habituellement un réseau (ou sous-réseau) en d’autres sous-réseaux. Lorsque vous utilisez le VLSM, commencez toujours par satisfaire les exigences de l'hôte du plus grand sous-réseau. Poursuivez la segmentation jusqu'à ce que les besoins en hôtes du plus petit sous-réseau soient satisfaits. Les sous-réseaux doivent toujours être démarrés sur une limite de bits appropriée.

## Conception structurée :
Un administrateur réseau devrait étudier les exigences du réseau afin de mieux planifier la structure des sous-réseaux réseau IPv4. Cela signifie examiner l'ensemble du réseau, à la fois l'intranet et la DMZ, et déterminer comment chaque zone sera segmentée. Le plan d'adresse comprend la détermination des endroits où la conservation des adresses est nécessaire (habituellement dans la zone démilitarisée) et des endroits où il y a plus de souplesse (habituellement dans l'intranet). Lorsque la conservation des adresses est requise, le plan doit déterminer le nombre de sous-réseaux nécessaires et le nombre d'hôtes par sous-réseau. Ceci est généralement requis pour l'espace d'adressage IPv4 public dans la zone DMZ. Cela comprendra très probablement l'utilisation de VLSM. Le plan d'adressage doit également indiquer comment les adresses des hôtes seront attribuées, quels hôtes auront besoin d'adresses IPv4 statiques et quels hôtes peuvent utiliser le DHCP pour obtenir leurs informations d'adressage. Au sein d'un réseau, il existe différents types de périphériques nécessitant des adresses : clients d'utilisateur final, serveurs et périphériques, serveurs accessibles à partir d'Internet, périphériques intermédiaires et passerelles. Lors du développement d'un schéma d'adressage IP, il est généralement recommandé de définir un modèle d'attribution des adresses pour chaque type de périphérique. Cela facilite l'ajout et la suppression de dispositifs, le filtrage du trafic basé sur l'IP, ainsi que la simplification de la documentation.

# Exclue : Adressage IPV6 :
## Problèmes d'adresse IPv4
Théoriquement, l'IPv4 est limité à 4,3 milliards d'adresses. Les adresses privées associées à NAT ont contribué à ralentir l'épuisement de l'espace d'adressage IPv4. Avec l'utilisation croissante d'Internet, un espace limité d'adresses IPv4, des problèmes liés à la fonction NAT et l'Internet of Everything, le moment est venu d'entamer la transition vers IPv6. IPv4 et IPv6 coexisteront dans un proche avenir et la transition prendra plusieurs années. L'IETF a créé divers protocoles et outils pour aider les administrateurs réseau à migrer leurs réseaux vers l'IPv6. Les techniques de migration peuvent être regroupées sous trois catégories: dual-stack, tunneling et traduction.

## Représentation des adresses IPv6
Les adresses IPv6 ont une longueur de 128 bits et sont notées sous forme de chaînes de valeurs hexadécimales. Tous les groupes de 4 bits sont représentés par un caractère hexadécimal unique; pour un total de 32 valeurs hexadécimales. le format privilégié pour noter une adresse IPv6 est x:x:x:x:x:x:x:x, où chaque «x» est constitué de quatre valeurs hexadécimales. Par exemple: 2001:0 db 8:0000:1111:0000:0000:0000:0200. Deux règles permettent de réduire le nombre de chiffres requis pour représenter une adresse IPv6. La première règle pour réduire la notation des adresses IPv6 consiste à omettre les zéros (0) du début d'une section de 16 bits (ou octet). Par exemple: 2001:db 8:0:1111:0:0:200. La deuxième règle permettant d'abréger la notation des adresses IPv6 est qu'une suite de deux fois deux points (::) peut remplacer toute chaîne unique et contiguë d'un ou plusieurs segments de 16 bits (octets) composés uniquement de zéros. Par exemple: 2001:db 8:0:1111::200.

## Types d'adresses IPV6 :
Il existe trois types d'adresses IPv6: monodiffusion, multidiffusion et anycast (monodiffusion aléatoire). Le protocole IPv6 n'utilise pas la notation décimale à point du masque de sous-réseau. La longueur du préfixe IPv6 est utilisée pour indiquer la partie réseau de l'adresse IPv6: Une adresse de monodiffusion IPv6 identifie une interface sur un périphérique IPv6 de façon unique. Les adresses IPv6 ont généralement deux adresses monodiffusion: GUA et LLA. Les adresses locales uniques IPv6 ont les usages suivants: elles sont utilisées pour l'adressage local au sein d'un site ou entre un nombre limité de sites, elles peuvent être utilisées pour des périphériques qui n'auront jamais besoin d'accéder à un autre réseau et elles ne sont pas routées ou traduites globalement en adresse IPv6 globale. Les adresses de diffusion globale (GUA) IPv6 sont uniques au monde et routables (Internet IPv6). Ces adresses sont équivalentes aux adresses publiques IPv4. Une GUA comporte trois parties: un préfixe de routage global, un ID de sous-réseau et un ID d'interface. Une adresse link-local IPv6 (LLA) permet à un appareil de communiquer avec d'autres appareils IPv6 sur la même liaison et uniquement sur cette liaison (sous-réseau). Les LLS peuvent être attribuées aux périphériques de manière statique ou dynamique.

## Configuration Statique de GUA et LLA :
La commande Cisco IOS pour configurer une adresse IPv4 sur une interface est ip address ip-address sous-net-mask. En revanche, la commande pour configurer une GUA IPv6 sur une interface est ipv6 address ipv6-address/prefix-length. Tout comme avec l'IPv4, la configuration des adresses statiques sur les clients ne convient pas aux environnements de grande taille. Pour cette raison, la plupart des administrateurs de réseaux IPv6 utilisent l'attribution dynamique des adresses IPv6. La configuration manuelle de l'adresse link-local permet de créer une adresse qui est reconnaissable et plus facile à mémoriser. Il est généralement nécessaire de créer des adresses locales-liens reconnaissables sur les routeurs. Les LLA peuvent être configurés manuellement à l'aide de la ipv6 address commande link-local ipv6-link-local-address.

## Adressage Dynamique de GUA IPV6 :
Un périphérique obtient une GUA dynamiquement via des messages ICMPv6. Les routeurs IPv6 envoient des messages d'annonce de routeur ICMPv6 toutes les 200 secondes à tous les périphériques IPv6 du réseau. Un message d'annonce de routeur est également envoyé en réponse à un hôte qui envoie un message de sollicitation de routeur ICMPv6, qui est une demande de message RA. Le message RA ICMPv6 comprend: le préfixe et la longueur du préfixe réseau, l'adresse de passerelle par défaut, ainsi que les adresses DNS et le nom de domaine. Les messages RA ont trois méthodes: SLAAC, SLAAC avec un serveur DHCPv6 sans état et DHCPv6 avec état (pas de SLAAC). Avec SLAAC, le périphérique client utilise les informations contenues dans le message RA pour créer sa propre GUA car le message contient le préfixe et l'ID d'interface. Avec SLAAC avec DHCPv6 sans état, le message RA suggère aux périphériques d'utiliser SLAAC pour créer leur propre GUA IPv6, d'utiliser le LLA du routeur comme adresse de passerelle par défaut et d'utiliser un serveur DHCPv6 sans état pour obtenir d'autres informations nécessaires. Avec DHCPv6 avec état, la RA suggère que les périphériques utilisent le LLA du routeur comme adresse de passerelle par défaut, et le serveur DHCPv6 avec état pour obtenir une GUA, une adresse de serveur DNS, un nom de domaine et toutes les autres informations nécessaires. L'ID de L'interface peut utiliser la méthode EUI-64 ou un nombre à 64 bits généré aléatoirement. Ce processus utilise l'adresse MAC Ethernet à 48 bits d'un client et insère 16 autres bits au milieu de cette adresse MAC pour créer un ID d'interface de 64 bits. Selon le système d'exploitation, un périphérique peut utiliser un ID d'interface.

## Adressage Dynamique de LLA IPV6 :
Tous les périphériques IPv6 doivent avoir un LLA IPv6. Un LLA peut être configuré manuellement ou créé dynamiquement. Les systèmes d'exploitation, tels que Windows, utilisent généralement la même méthode à la fois pour un GUA créé par SLAAC et un ALL attribué dynamiquement. Les routeurs Cisco créent automatiquement une adresse link-local IPv6 dès qu'une adresse de diffusion globale est attribuée à l'interface. Par défaut, les routeurs Cisco IOS utilisent la méthode EUI-64 pour générer l'ID d'interface de toutes les adresses link-local sur des interfaces IPv6. Pour les interfaces série, le routeur utilise l'adresse MAC d'une interface Ethernet. Pour simplifier l'identification et la mémorisation de ces adresses sur les routeurs, il est courant de configurer les adresses link-local IPv6 de manière statique sur les routeurs. Pour vérifier la configuration de l'adresse IPv6, utilisez les trois commandes suivantes: show ipv6 interface brief, show ipv6 route, et ping.

## Adresses de multidiffusion IPv6 :
Il existe deux types d'adresses de multidiffusion IPv6: les adresses de multidiffusion bien connues et les adresses de multidiffusion de nœuds sollicités. Les adresses de multidiffusion attribuées sont des adresses de multidiffusion réservées à des groupes ou périphériques prédéfinis. Des adresses de multidiffusion IPv6 connues sont attribuées. Deux groupes de multidiffusion communs à IPv6 sont : ff02::1 groupe de multidiffusion tous nœuds et ff02::2 groupe de multidiffusion tous routeurs. Une adresse de multidiffusion de nœud sollicité est comparable à une adresse de multidiffusion à tous les nœuds. Elle offre l'avantage d'être mappée à une adresse de multidiffusion Ethernet spéciale.

## Segmentation des réseaux IPv6 en sous-réseaux :
IPv6 a été conçu en pensant au sous-réseau. Un champ d'ID de sous-réseau distinct dans la GUA IPv6 est utilisé pour créer des sous-réseaux. Le champ ID de sous-réseau est la zone située entre le préfixe de routage global et l'ID d'interface. L'avantage d'une adresse 128 bits est qu'elle peut prendre en charge plus de sous-réseaux et d'hôtes par sous-réseau, pour chaque réseau. La conservation des adresses n'est pas un problème. Par exemple, si le préfixe de routage global est /48, et en utilisant un 64 bits standard pour l'ID d'interface, cela créera un ID de sous-réseau 16 bits:
* ID de sous-réseau 16 bits - Crée jusqu'à 65536 sous-réseaux.
* L'ID de l'interface 64-bit- prendre en charge jusqu'à 18 quintillions d'adresses IPv6 d'hôte par sous-réseau (i.e., 18,000,000,000,000,000,000).

Avec plus de 65000 sous-réseaux disponibles, la mission de l'administrateur réseau revient à concevoir un schéma logique pour répondre aux besoins du réseau. La conservation des adresses n'est pas une préoccupation lors de l'utilisation d'IPv6. Comme pour la configuration IPv4, l'exemple indique que chacune des interfaces du routeur a été configurée pour utiliser un sous-réseau IPv6 différent.

# ICMP :
## Messages ICMP
La suite TCP/IP fournit des messages d'erreur et des messages d'information lors de la communication avec un autre périphérique IP. Ces messages sont envoyés via les services du protocole ICMP. Ces messages ont pour objectif de fournir des commentaires sur les problèmes liés au traitement de paquets IP dans certaines circonstances. Les messages ICMP communs à ICMPv4 et ICMPv6 sont les suivants: accessibilité de l'hôte, destination ou service inaccessible et délai dépassé. Un message d'écho ICMP teste l'accessibilité d'un hôte sur un réseau IP. L’hôte local envoie un message ICMP Echo Request (Demande d’écho) à un autre hôte. Si l'hôte est disponible, l'hôte de destination répond en envoyant une réponse d'écho. C'est la base de l'utilité ping . Lorsqu'un hôte ou une passerelle reçoit un paquet qu'il ne peut pas livrer, il peut utiliser un message ICMP de destination inaccessible pour en informer la source. Ce message comprend un code indiquant pourquoi le paquet n'a pas pu être acheminé. Un message ICMPv4 délai dépassé est utilisé par un routeur pour indiquer qu'un paquet ne peut pas être transmis parce que le champ durée de vie (TTL) du paquet a été décrémenté  à zéro. Si un routeur reçoit un paquet et décrémente le champ TTL de durée de vie du paquet IPv4 jusqu'à atteindre zéro, il abandonne le paquet et envoie un message de dépassement de délai à l'hôte source. ICMPv6 envoie également un délai dépassé dans cette situation. ICMPv6 utilise le champ de limite de saut IPv6 pour déterminer si le paquet a expiré. Les messages délai dépassés sont utilisés par l'outil traceroute. Les messages entre un routeur IPv6 et un périphérique IPv6, y compris l'attribution dynamique d'adresses, comprennent RS et RA. Les messages entre les périphériques IPv6 incluent la redirection (similaire à IPv4), NS et NA.

## Tests de ping et de traçage :
La commande ping est un utilitaire de test qui utilise des messages de requête et de réponse d'écho ICMP pour tester la connectivité entre les hôtes. Pour tester la connectivité avec un autre hôte sur un réseau, une requête d'écho est envoyée à l'adresse d'hôte au moyen de la commande ping. Si l'hôte à l'adresse spécifiée reçoit une requête d'écho, il répond en envoyant une réponse d'écho. Chaque fois qu'une réponse d'écho est reçue, la commande ping vous informe du temps qui s'écoule entre l'envoi de la requête et la réception de la réponse. Une fois toutes les requêtes envoyées, l'utilitaire ping affiche un résumé qui inclut le taux de réussite et la durée de transmission moyenne à destination. Ping peut être utilisé pour tester la configuration interne d'IPv4 ou IPv6 sur l'hôte local. Pour réaliser ce test, nous exécutons la commande ping sur l'adresse de boucle locale 127.0.0.1 pour l'IPv4 (et ::1 pour l'IPv6). Utilisez ping pour tester la capacité d'un hôte à communiquer sur le réseau local, en envoyant un ping à l'adresse IP de la passerelle par défaut de l'hôte. Un ping réussi vers la passerelle par défaut indique que l'hôte et l'interface du routeur servant de passerelle par défaut sont tous deux opérationnels sur le réseau local. La commande ping peut aussi être utilisée pour tester la capacité d'un hôte local à communiquer sur un inter-réseau. L'hôte local peut envoyer un ping à un hôte IPv4 opérationnel d'un réseau distant. Traceroute (tracert) génère une liste des sauts qui ont été atteints avec succès le long du chemin. Cette liste fournit des informations pour la vérification et le dépannage. Si les données parviennent à destination, la commande affiche la liste des interfaces de tous les routeurs situés entre les hôtes. Si les données restent bloquées au niveau d'un tronçon, l'adresse du dernier routeur ayant répondu à la commande peut fournir une indication sur l'endroit où se situe le problème ou sur d'éventuelles restrictions de sécurité. Le temps aller-retour est le temps que prend un paquet pour atteindre l'hôte distant et pour que la réponse de l'hôte revienne. La commande traceroute utilise une fonction du champ TTL du protocole IPv4 et le champ de limite de nombre de tronçons du protocole IPv6 dans les en-têtes de couche 3, ainsi que le message ICMP de dépassement de délai
 
# Couche transport :
## Transport des données :
La couche transport est le lien entre la couche application et les couches inférieures qui sont responsables de la transmission du réseau. La couche de transport est responsable des communications logiques entre les applications exécutées sur différents hôtes. La couche transport comprend à la fois les protocoles TCP et UDP. Les protocoles de couche de transport spécifient comment transférer des messages entre les hôtes et sont responsables de la gestion des exigences de fiabilité d'une conversation. La couche de transport est responsable du suivi des conversations (sessions), de la segmentation des données et de la réassemblage des segments, de l'ajout d'informations d'en-tête, de l'identification des applications et du multiplexage des conversations. Le TCP est en état, fiable, reconnaît les données, renvoie les données perdues et livre les données dans un ordre séquentiel. Utilisez TCP pour le courrier électronique et le Web. L'UDP est apatride, rapide, a une faible surcharge, ne nécessite pas d'accusé de réception, ne renvoie pas les données perdues et livre les données dans l'ordre où elles arrivent. Utilisez UDP pour VoIP et DNS.

## Aperçu du TCP :
TCP établit les sessions, assure la fiabilité, assure la livraison de même ordre et prend en charge le contrôle des flux. Un segment TCP ajoute 20 octets de surcharge en tant qu'informations d'en-tête lors de l'encapsulation des données de la couche d'application. Les champs de l'en-tête TCP sont les suivants : ports source et destination, numéro de séquence, numéro d'accusé de réception, longueur de l'en-tête, réservé, bits de contrôle, taille de la fenêtre, somme de contrôle et urgent. Les applications qui utilisent le TCP sont HTTP, FTP, SMTP et Telnet.

## Aperçu du UDP :
UDP reconstruit les données dans l'ordre où elles sont reçues, les segments perdus ne sont pas ré-envoyés, aucun établissement de session et UDP n'informe pas l'expéditeur de la disponibilité des ressources. Les champs d'en-tête UDP sont les suivants : Ports source et destination, longueur et somme de contrôle. Les applications qui utilisent UDP sont DHCP, DNS, SNMP, TFTP, VoIP et visioconférence.

## Numéros de port :
Les protocoles de couches de transport TCP et UDP utilisent des numéros de port pour gérer plusieurs conversations simultanées. C'est pourquoi les champs d'en-tête TCP et UDP identifient un numéro de port d'application source et de destination. Les ports sources et de destination sont placés à l'intérieur du segment. Les segments sont ensuite encapsulés dans un paquet IP. Le paquet IP contient l'adresse IP de la source et de la destination. La combinaison de l'adresse IP source et du numéro de port source, ou de l'adresse IP de destination et du numéro de port de destination, est appelée interface de connexion. L'interface de connexion sert à identifier le serveur et le service demandés par le client. Il y a une gamme de numéros de port de 0 à 65535. Cette gamme est divisée en groupes: Ports connus, Ports enregistrés, Ports privés et/ou dynamiques. Il y a quelques numéros de port connus qui sont réservés aux applications courantes telles que FTP, SSH, DNS, HTTP et autres. Il est parfois nécessaire de savoir quelles connexions TCP actives sont ouvertes et s'exécutent sur un hôte en réseau. L'utilitaire netstat est un utilitaire de réseau important qui peut être utilisé pour vérifier ces connexions.

## Processus de communication du TCP :
Chaque processus de demande s'exécutant sur un serveur est configuré pour utiliser un numéro de port. Le numéro de port est soit attribué automatiquement, soit configuré manuellement par un administrateur système. Les processus serveur TCP sont les suivants: clients qui envoient des requêtes TCP, demandent des ports de destination, demandent des ports source, répondent aux demandes de port de destination et de port source. Pour mettre fin à une seule conversation TCP, quatre échanges sont nécessaires pour mettre fin aux deux sessions. La terminaison peut être initiée par le client ou le serveur. La poignée de main à trois voies établit que le périphérique de destination est présent sur le réseau, vérifie que le périphérique de destination dispose d'un service actif et accepte les demandes sur le numéro de port de destination que le client initiateur a l'intention d'utiliser, et informe le périphérique de destination que le client source a l'intention d'organiser une session de communication sur ce numéro de port. Les six indicateurs de bits de contrôle sont: URG, ACK, PSH, RST, SYN et FIN.

## Fiabilité et contrôle des flux :
Pour que le message original soit compris par le destinataire, toutes les données doivent être reçues et les données de ces segments doivent être ré-assemblées dans l'ordre original. Des numéros d'ordre sont affectés à l'en-tête de chaque paquet. Quelle que soit la conception d'un réseau, la perte de données se produit occasionnellement. TCP fournit des moyens de gérer les pertes de segment. Parmi elles se trouve un mécanisme de retransmission des segments pour les données sans accusé de réception. Aujourd'hui, les systèmes d'exploitation hôtes utilisent généralement une fonctionnalité TCP facultative appelée reconnaissance sélective (SACK), négociée au cours de la poignée de main à trois voies. Si les deux hôtes prennent en charge SACK, le récepteur peut explicitement reconnaître quels segments (octets) ont été reçus, y compris les segments discontinus. L'hôte émetteur n'aurait donc qu'à re-transmettre les données manquantes. Le contrôle de flux aide à maintenir la fiabilité des transmissions TCP en réglant le flux de données entre la source et la destination pour une session donnée. Pour cela, l'en-tête TCP inclut un champ de 16 bits appelé taille de fenêtre. Le processus d'envoi d'accusés de réception par la destination en fonction du traitement des octets reçus et d'ajustement continu de la fenêtre d'envoi de la source porte le nom de « fenêtres glissantes ». Une source peut transmettre 1 460 octets de données dans chaque segment TCP. Il s'agit du MSS typique qu'un périphérique de destination peut recevoir. Pour éviter et contrôler les congestions, le TCP utilise plusieurs mécanismes de traitement des congestions. C'est la source qui réduit le nombre d'octets non reconnus qu'elle envoie et non la taille de la fenêtre déterminée par la destination.

## Communication du UDP :
Le protocole UDP est un protocole simple offrant des fonctions de couche transport de base. Lorsque les datagrammes UDP sont envoyés à une destination, ils empruntent souvent des chemins différents et arrivent dans le mauvais ordre. Le protocole UDP n'effectue pas de suivi des numéros d'ordre comme le fait le protocole TCP. Il n'a en effet aucun moyen de réordonner les datagrammes pour leur faire retrouver leur ordre de transmission d'origine. Le protocole UDP se contente donc de ré-assembler les données dans l'ordre dans lequel elles ont été reçues, puis de les transmettre à l'application. Si l'ordre des données est important pour l'application, cette dernière doit identifier l'ordre correct et déterminer le mode de traitement des données. Les applications serveur basées sur l'UDP se voient attribuer des numéros de port connus ou enregistrés. Quand le protocole UDP reçoit un datagramme destiné à l'un de ces ports, il transmet les données applicatives à l'application appropriée d'après son numéro de port. Le processus client UDP sélectionne dynamiquement un numéro de port dans une plage de numéros de ports et il l'utilise en tant que port source pour la conversation. Le port de destination est généralement le numéro de port réservé affecté au processus serveur. Après qu'un client a sélectionné les ports source et destination, la même paire de ports est utilisée dans l'en-tête de tous les datagrammes utilisés dans la transaction. Quand des données sont envoyées du serveur vers le client, les numéros de port source et de port de destination sont inversés dans l'en-tête du datagramme.

# Couche application : 
## Couches application, présentation et session
La couche application est la plus proche de l'utilisateur final dans les modèles OSI et TCP/IP. Les protocoles de couche d'application sont utilisés pour échanger des données entre les programmes s'exécutant sur les hôtes source et de destination. La couche de présentation comporte trois fonctions principales : le formatage ou la présentation des données sur le périphérique source dans un formulaire compatible pour la réception par le périphérique de destination, la compression des données d'une manière qui peut être décompressée par le périphérique de destination et le chiffrement des données pour la transmission et le décryptage des données à la réception . La couche session crée et gère les communications entre les applications de source et de destination. La couche session traite l'échange des informations pour commencer et maintenir un dialogue et pour re-démarrer les sessions interrompues ou inactives pendant une longue période. Les protocoles d'application TCP/IP spécifient les informations de format et de contrôle nécessaires à plusieurs fonctions courantes de communication via l'internet. Les protocoles sont utilisés par les périphériques de source et de destination pendant une session de communication. Les protocoles mis en œuvre sur l'hôte de source et l'hôte de destination doivent être compatibles.

## Peer-to-Peer :
Dans le modèle client/serveur, le périphérique qui envoie une requête d'informations est nommé client et celui qui répond à la requête est nommé serveur. Le client commence l'échange en requérant des données auprès du serveur, qui répond en envoyant un ou plusieurs flux de données au client. Dans un réseau peer to peer, deux ordinateurs sont connectés via un réseau et peuvent partager des ressources sans disposer de serveur dédié. Chaque homologue peut fonctionner en tant que serveur et client. Un ordinateur peut jouer le rôle de serveur pour une transaction et servir simultanément de client pour une autre. Les applications P2P nécessitent que chaque périphérique terminal fournisse une interface utilisateur et exécute un service en arrière-plan. Certaines applications peer to peer utilisent un système hybride dans lequel le partage des ressources est décentralisé, mais les index pointant vers l'emplacement des ressources sont stockés dans un répertoire centralisé. De nombreuses applications P2P permettent aux utilisateurs de partager simultanément des parties de plusieurs fichiers. Les clients utilisent un petit fichier appelé fichier torrent pour localiser les autres utilisateurs qui possèdent des parties dont ils ont besoin afin de pouvoir se connecter directement à eux. Ce fichier contient également des informations sur les ordinateurs de suivi qui indiquent quels utilisateurs possèdent quels fichiers.

## Protocoles de courrier électronique et Web :
Lorsqu'une adresse web (ou URL) est tapée dans un navigateur web, ce dernier établit une connexion au service web . Le service Web s'exécute sur le serveur qui utilise le protocole HTTP. Le protocole HTTP est de type requête/réponse. Lorsqu'un client, généralement un navigateur web, envoie une requête à un serveur web, HTTP spécifie les types de messages utilisés pour cette communication. Les trois types de messages courants sont GET, POST et PUT . Pour une communication sécurisée sur l'internet, le HTTPS utilise le même processus requête client - réponse serveur tel que HTTP, mais le flux de données est crypté avec SSL avant d'être transporté sur le réseau. Le courrier électronique prend en charge trois protocoles distincts pour fonctionner : SMTP, POP et IMAP. Le processus de couche application qui envoie les e-mails utilise le protocole SMTP. Un client récupère le courrier électronique à l'aide de POP ou IMAP. Les formats de message SMTP exigent un en-tête et un corps de message. Si le corps du message peut contenir n'importe quelle quantité de texte, l'en-tête doit contenir une adresse de messagerie de destinataire et une adresse d'expéditeur correctement mises en forme. Le protocole POP (Post Office Protocol) est utilisé par une application pour récupérer le message électronique à partir d'un serveur de messagerie. Avec POP, le courrier électronique est téléchargé du serveur au client, puis supprimé du serveur. En IMAP, au contraire de protocole POP, lorsque l'utilisateur se connecte à un serveur IMAP, des copies des messages sont téléchargées vers l'application cliente. Les messages originaux sont conservés sur le serveur jusqu'à ce qu'ils soient supprimés manuellement.

## Services d'adressage IP :
Le protocole DNS correspond aux noms des ressources avec l'adresse numérique du réseau requise. Les communications du protocole DNS utilisent un format de message pour tous les types de requêtes des clients et les réponses des serveurs, les messages d'erreur et le transfert d'informations d'enregistrement des ressources entre les serveurs. DNS utilise des noms de domaines pour élaborer une hiérarchie. Chaque serveur DNS maintient un fichier de base de données spécifique et n'est responsable que de la gestion des mappages nom-à-IP pour cette petite partie de l'ensemble de la structure DNS. Le système d'exploitation des ordinateurs utilise la commande Nslookup pour permettre à l'utilisateur d'interroger manuellement une requête auprès des serveurs de noms, afin de résoudre un nom d'hôte donné. Le DHCP de service IPv4 automatise l'attribution des adresses IPv4, des masques de sous-réseau, des passerelles et d'autres paramètres de réseau IPv4. DHCPv6 fournit des services similaires pour les clients IPv6, sauf qu'il ne fournit pas d'adresse de passerelle par défaut. Lorsqu'un périphérique IPv4 configuré pour le protocole DHCP démarre ou se connecte au réseau, le client diffuse un message de détection DHCP (DHCPDISCOVER) pour identifier les serveurs DHCP disponibles sur le réseau. Un serveur DHCP répond par un message d'offre DHCP (DHCPOFFER), qui offre un bail au client. Le protocole DHCPv6 possède un ensemble de messages similaires à DHCP pour IPv4. Les messages DHCPv6 sont les suivants : SOLICIT, ADVERTISE, INFORMATION REQUEST et REPLY.

## Services de partage de fichiers :
Un FTP est une application s'exécutant sur un ordinateur client qui sert à envoyer et à extraire des données d'un serveur FTP. Le client établit la première connexion au serveur pour contrôler le trafic en utilisant le port TCP 21. Le client établit la seconde connexion au serveur pour le transfert de données proprement en utilisant le port TCP 20. Le client peut télécharger (extraire) des données à partir du serveur ou le client peut télécharger (stocker) des données vers le serveur. Les messages SMB peuvent initier, authentifier et interrompre des sessions, contrôler l'accès aux fichiers et aux imprimantes, et permettre à une application d'envoyer ou de recevoir des messages vers ou depuis un autre appareil. Contrairement au partage de fichiers pris en charge par le protocole FTP, les clients établissent une connexion à long terme aux serveurs. Une fois la connexion établie, l'utilisateur du client peut accéder aux ressources résidant sur le serveur comme si elles étaient situées localement sur l'hôte client.

# Principe fondamentaux de sécurisation :
## Menaces et Failles de Sécurité :
Les attaques sur un réseau peuvent être dévastatrices et résulter en une perte de temps et d'argent, parce que des informations ou des ressources importantes sont endommagées ou volées. Les intrus qui obtiennent l'accès en modifiant les logiciels ou en exploitant les vulnérabilités des logiciels sont appelés acteurs de menace. Si l'acteur de menace accède au réseau, quatre types de menaces sont possibles: le vol d'informations, l'usurpation d'identité, la perte ou la manipulation de données et l'interruption de service. Trois vulnérabilités principales relatives à la technologie, à la configuration et à la politique de sécurité Les quatre catégories de menaces physiques sont: le matériel, l'environnement, l'électricité et la maintenance.

## Attaques de Réseaux :
Malware est l'abréviation de logiciel malveillant. Il s'agit d'un code ou d'un logiciel spécifiquement conçu pour endommager, perturber, voler ou infliger une action "mauvaise" ou illégitime sur des données, des hôtes ou des réseaux. Les virus, les vers et les chevaux de Troie sont des types de logiciels malveillants. Les attaques de réseau peuvent être classées en trois grandes catégories : reconnaissance, accès et déni de service. Les quatre catégories de menaces physiques sont: le matériel, l'environnement, l'électricité et la maintenance. Les trois types d'attaques de reconnaissance sont: les requêtes Internet, les balayages ping et les balayages de ports. Les quatre types d'attaques d'accès sont: mot de passe (force brute, cheval de Troie, renifleur de paquets), exploitation de confiance, redirection de port et l'homme du milieu (Man-in-the-Middle). Les deux types d'interruption des attaques de service sont: DoS et DDoS.

## Atténuation des Attaques de Réseaux :
Pour atténuer les attaques réseau, vous devez d'abord sécuriser les périphériques, y compris les routeurs, les commutateurs, les serveurs et les hôtes. La plupart des organisations utilisent une approche défensive en matière de sécurité. Cela nécessite une combinaison de périphériques réseau et de services fonctionnant ensemble. Plusieurs périphériques et services de sécurité sont mis en œuvre pour protéger les utilisateurs et les ressources d'une organisation contre les menaces TCP/IP: VPN, pare-feu ASA, IPS, ESA/WSA et serveur AAA. Les périphériques d'infrastructure doivent avoir des sauvegardes de fichiers de configuration et d'images IOS sur un serveur FTP ou similaire. Si l'ordinateur ou un matériel de routeur échoue, les données ou la configuration peuvent être restaurées à l'aide de la copie de sauvegarde. La meilleure façon de limiter les risques d'attaque de ver est de télécharger les mises à jour de sécurité du fournisseur du système d'exploitation et d'appliquer des correctifs sur tous les systèmes vulnérables. Pour gérer les correctifs de sécurité critiques, assurez-vous que tous les systèmes finaux téléchargent automatiquement les mises à jour. Ces services permettent de contrôler les utilisateurs autorisés à accéder à un réseau (authentification), ce que ces derniers peuvent faire lorsqu'ils sont connectés (autorisation) et les actions qu'ils exécutent lors de l'accès au réseau (compatibilité). Un pare-feu se trouve entre deux réseaux, ou plus, et contrôle le trafic entre eux tout en contribuant à interdire les accès non autorisés. Les serveurs accessibles aux utilisateurs extérieurs sont généralement situés sur un réseau spécial appelé zone démilitarisée (DMZ). Les pare-feu utilisent diverses techniques pour déterminer ce qui est autorisé ou refusé à l'accès d'un réseau, notamment: le filtrage des paquets, le filtrage des applications, le filtrage des URL et le SPI. La sécurisation des terminaux est essentielle à la sécurité du réseau. Une entreprise doit mettre en place des politiques bien documentées, qui peuvent inclure l'utilisation de logiciels antivirus et la prévention des intrusions sur l'hôte. Des solutions plus complètes de sécurisation des terminaux reposent sur le contrôle de l'accès au réseau.

## Sécurité des Périphériques :
Les paramètres de sécurité sont définis à l'aide des valeurs par défaut, lorsqu'un nouveau système d'exploitation est installé sur un périphérique Ce niveau de sécurité n'est pas suffisant. Pour les routeurs Cisco, la fonction AutoSecure de Cisco peut être utilisée pour aider à sécuriser le système. Pour la plupart des systèmes d'exploitation, les noms d'utilisateur et les mots de passe par défaut doivent être modifiés immédiatement, l'accès aux ressources système devrait être limité aux personnes autorisées à utiliser ces ressources, et tous les services et applications inutiles devraient être désactivés et désinstallés si possible. Pour protéger les périphériques réseau, il est important d'utiliser des mots de passe forts. Il est souvent plus facile de mémoriser une phrase secrète qu'un seul mot. Elle est également plus longue et plus difficile à deviner. Pour les routeurs et les commutateurs, chiffrez tous les mots de passe en texte clair, définissez une longueur de mot de passe minimale acceptable, dissuadez les attaques de deviner par mot de passe par force brute et désactivez un accès en mode EXEC privilégié inactif après une durée spécifiée. Configurez les périphériques appropriés pour prendre en charge SSH et désactivez les services inutilisés.

# Conception d’un réseaux de petite taille :
## Périphériques d'un réseau de petit taille :
En termes de connexion à Internet, les réseaux de petite taille comportent généralement une seule connexion de réseau étendu par DSL, le câble ou une connexion Ethernet. Les petits réseaux sont gérés par un technicien informatique local ou par un professionnel contractuel. Les facteurs à prendre en compte lors de la sélection de périphériques réseau pour un petit réseau sont le coût, la vitesse et les types de ports/interfaces, l'évolutivité et les fonctionnalités et services du système d'exploitation. Lors de la mise en œuvre d'un réseau, créez un schéma d'adressage IP et utilisez-le sur des périphériques, des serveurs et des périphériques et des périphériques intermédiaires. Elle peut passer par l'installation d'équipements en double, mais elle peut également être assurée par le doublement des liaisons réseau dans les zones critiques. Dans un réseau de petite taille, les routeurs et les commutateurs doivent être configurés pour prendre en charge le trafic en temps réel, comme la voix et la vidéo, et ce, séparément du trafic des autres données. En fait, la meilleure conception de réseau mettra en œuvre la qualité de service (QoS) pour classer soigneusement le trafic en fonction des priorités.

## Applications et protocoles d'un réseau de petite taille :
Il existe deux types de programmes ou processus logiciels permettant d'accéder au réseau: les applications de réseau et les services de couche application Certaines applications d'utilisateur final mettent en œuvre des protocoles de couche d'application et sont capables de communiquer directement avec les couches inférieures de la pile de protocoles. Les clients de messagerie et les navigateurs web sont des exemples de ce type d'application. D'autres programmes peuvent nécessiter l'assistance des services de couche application (par exemple, le transfert de fichiers ou la mise en file d'attente de tâches d'impression réseau). Ces programmes communiquent avec le réseau et préparent les données pour qu'elles puissent être transférées. Les deux solutions d'accès à distance les plus courantes sont Telnet et Secure Shell (SSH). Le service SSH est une alternative sécurisée à Telnet. Les administrateurs réseau doivent également prendre en charge les serveurs réseau communs et leurs protocoles réseau requis tels que le serveur Web, le serveur de messagerie, le serveur FTP, le serveur DHCP et le serveur DNS. De nos jours, les entreprises utilisent de plus en plus les solutions de téléphonie IP et de transmission multimédia en continu pour communiquer avec leurs clients et partenaires commerciaux. Ce sont des applications en temps réel. L'infrastructure réseau doit prendre en charge la VoIP, la téléphonie IP et d'autres applications en temps réel.

## Évoluer vers de grands réseaux :
Pour mettre à l'échelle un réseau, plusieurs éléments sont requis: documentation réseau, inventaire des périphériques, budget et analyse du trafic. Connaître le type de trafic qui traverse le réseau ainsi que le flux de trafic actuel. Capturez le trafic pendant les heures de pointe afin d'obtenir la meilleure représentation des différents types de trafic et effectuez la capture sur différents segments et périphériques réseau, car un certain trafic sera local à un segment particulier. Les administrateurs réseau doivent savoir comment l'utilisation du réseau évolue. Les détails d'utilisation des ordinateurs des employés peuvent être capturés dans un «instantané» à l'aide d'outils tels que le Gestionnaire des tâches Windows, l'Observateur d'événements et l'utilisation des données.
## Vérifier la connectivité :
La commande ping est le moyen le plus efficace de tester rapidement la connectivité de couche 3 entre une adresse IP source et de destination. La commande affiche également diverses statistiques de temps aller-retour. Le Cisco IOS offre un mode «étendu» de la commande ping qui permet à l'utilisateur de créer des types spéciaux de pings en ajustant les paramètres liés à l'opération de commande. Le ping étendu est entré en mode d’exécution privilégié en tapant ping sans adresse IP de destination. Traceroute peut aider à localiser les zones problématiques de couche 3 dans un réseau. Cette commande renvoie une liste des sauts effectués par un paquet acheminé à travers un réseau. Il pourrait être utilisé pour identifier le point le long du chemin où le problème peut être trouvé. Sous Windows, la commande est tracert. Dans Cisco IOS, la commande est traceroute. Il y a aussi une commande traceroute étendue. Il permet à l'administrateur d'ajuster les paramètres liés à l'opération de commande. Les résultats fournis par certaines commandes réseau permettent de recueillir des données qui feront partie de la ligne de base du réseau. Pour commencer à élaborer un profil de référence, vous pouvez copier et coller dans un fichier texte les résultats d'une commande telle que ping, trace ou autre. Il est possible d'horodater ces fichiers texte et de les enregistrer dans une archive en vue d'une extraction et d'une comparaison ultérieures.
## Commandes de l'hôte et de l'IOS :
Les administrateurs réseau visualisent les informations d'adressage IP (adresse, masque, routeur et DNS) sur un hôte Windows en exécutant la commande ipconfig . D'autres commandes nécessaires sont ipconfig /all, ipconfig /release et ipconfig /renew, et ipconfig /displaydns. La vérification des paramètres IP à l'aide de l'interface graphique sur une machine Linux diffère en fonction de la distribution Linux (distribution) et de l'interface de bureau. Les commandes nécessaires sont ifconfig, et ip address. Dans l'interface graphique d'un hôte Mac, ouvrez Préférences réseau > Avancé pour obtenir les informations d'adressage IP. Les autres commandes d'adressage IP pour Mac sont ifconfig, networksetup -listallnetworkservices et networksetup -getinfo <network service\ >. La commande arp est exécutée à partir de l'invite de commande Windows, Linux ou Mac. La commande liste tous les périphériques actuellement dans le cache ARP de l'hôte, ce qui comprend l'adresse IPv4, l'adresse physique et le type d'adressage (statique/dynamique) pour chaque périphérique. La commande arp -a affiche l'adresse IP connue et la liaison d'adresse MAC. Les commandes show courantes show running-config, show interfaces, show ip address, show arp, show ip route, show protocols, et show version. La commande show cdp neighbor fournit les informations suivantes sur chaque voisin CDP: identifiants de périphérique, liste d'adresses, identifiant de port, liste des capacités et plate-forme. La commande show cdp neighbors detail permet de déterminer si l'un des voisins CDP présente une erreur de configuration IP. La commande show ip interface brief affiche toutes les interfaces du routeur, l'adresse IP attribuée à chaque interface et, le cas échéant, l'état opérationnel de l'interface.

## Méthodologies de dépannage :
Étape 1. Identifier le problème

Étape 2. Établir une théorie sur les causes probables

Étape 3. Tester la théorie en vue de déterminer la cause

Étape 4. Établir un plan d'action pour résoudre le problème et implémenter la solution.

Étape 5. Vérifier la solution et mettre en œuvre des mesures préventives.

Étape 6. Documenter les constats, les actions et les résultats

Lorsqu'un problème nécessite la décision d'un responsable ou une certaine expertise, ou lorsque le technicien ne dispose pas des droits d'accès réseau requis, le problème doit être transféré à qui de droit. Les processus, protocoles, mécanismes et événements OS génèrent des messages pour communiquer leur état. La commande debug d'IOS permet à l'administrateur d'afficher ces messages en temps réel pour analyse. Pour afficher les messages de journal sur un terminal (console virtuelle), utilisez la commande terminal monitor d'exécution privilégiée.

## Scénarios de dépannage :
Il existe deux modes de communication duplex: semi-duplex et duplex intégral. Si l'un des deux périphériques connectés fonctionne en duplex intégral et l'autre en mode semi-duplex, nous avons un conflit des paramètres duplex. Si la communication de données s'effectue malgré le conflit des paramètres duplex, les performances de liaison sont très faibles.
Toute adresse IP mal attribuée génère un grand nombre de problèmes, y compris des conflits d'adressage IP et des problèmes de routage. Parmi les causes les plus courantes d'attribution IPv4 incorrecte, notons les erreurs d'attribution manuelle ou les problèmes DHCP. La plupart des périphériques finaux sont configurés pour utiliser un serveur DHCP pour l'attribution automatique des adresses IPv4. Si le périphérique n'est pas en mesure de communiquer avec le serveur DHCP, le serveur ne pourra pas attribuer d'adresse IPv4 au réseau requis et le périphérique ne pourra pas communiquer.
La passerelle par défaut pour un périphérique final est le périphérique réseau le plus proche capable d'acheminer le trafic vers d'autres réseaux. Si un périphérique possède une adresse de passerelle par défaut incorrecte ou inexistante, il ne pourra pas communiquer avec les périphériques de réseaux distants. Comme la passerelle par défaut est le chemin d'accès aux réseaux distants, son adresse doit appartenir au même réseau que le périphérique final.
Les défaillances DNS amènent souvent l'utilisateur à conclure que le réseau est en panne. Si l'utilisateur entre un nom de domaine tel que www.cisco.com dans un navigateur Web, mais que le serveur DNS est inaccessible, le nom n'est pas traduit en adresse IP et le site Web ne s'affiche pas.
